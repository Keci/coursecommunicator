<input ng-model="filter" value="[[filter]]" type="hidden" />

<div class="post" ng-repeat="post in feed | filter:filter" ng-mouseenter="showTools=true" ng-mouseleave="showTools=false">
<div class="row-fluid content">
				<div class="span1">
				  <div class="vote">
					<div class="number"><i class="icon-chevron-up"></i><br />[[post.votes]]<br /><i class="icon-chevron-down"></i></div>
				  </div>
				</div>
				<div class="span11">	
				
				  <div class="row-fluid" style="margin-top: 4px;">
					
					<div class="span1" style="width: 3%;">
					  <div class="avatar [[post.user.avatar.cssclass]]" ng-click="showPostUserDetails=!showPostUserDetails" init="showPostUserDetails=false"></div>
					</div>
					
					<div class="span11" style="width: 94%; margin-top: -2px;">
					  <div class="tools pull-right" ng-show="showTools">
						<i class="icon-pencil"></i>
						<i class="icon-star"></i>
						<i class="icon-reply" ng-click="showNewReply=!showNewReply" init="showNewReply=false"></i>
					  </div>
					  <span class="username">[[post.user.name]]</span> <span class="datetime">(<span class="time"><abbr class="timeago" title="[[post.pubdate]]" reldate>[[post.pubdate]]</abbr></span>)</span><div class="text">[[post.text]]</div>
					</div>
					
				  </div>
							
				  <div class="row-fluid" ng-show="showPostUserDetails">
					  <div class="span12 post-user-details">
					    <button class="btn btn-mini btn-inverse colleague-button" type="button"><i class="icon-group"></i> become a colleague</button>
						<i class="icon-remove-sign" ng-click="showPostUserDetails=false"></i>
					    <div class="title">Nickname</div>[[post.user.name]]<br />
						<div class="title">Statement</div>[[post.user.statement]]<br />
						<div class="title">Contact</div>[[post.user.email]]<br />
					  </div>
					</div>
				  
				</div>
				<div class="bottom">
				  <div class="row-fluid" style="margin-bottom: -10px;">
				    <div class="span1">
					</div>
					<div class="span11">
					  <div ng-switch="post.replies.length" class="commentstxt">
					    <toggle-posts><i class="icon-minus-sign" ng-click="showReplies=!showReplies"></i></toggle-posts>
					    <span ng-switch-when="0"><hide-plus-minus>no comments yet</hide-plus-minus></span>
						<span ng-switch-when="1">[[post.replies.length]] comment</span>
					    <span ng-switch-default>[[post.replies.length]] comments</span>
					  </div>
					  <div class="tags pull-right">
			            <div class="btn-group" style="margin-bottom: 5px;">
				          <button class="btn btn-mini btn-tag" ng-repeat="tag in post.tags" onClick="location.href='/#/filter/[[tag.tag.name]]/'">#[[tag.tag.name]]</button>
						</div>
					  </div>
					</div>
				  </div>
				</div>
				
				<div class="row-fluid newreply" ng-show="showNewReply">
				  <div class="span1"></div>
				  <div class="span11">
			        <i class="icon-remove-sign" ng-click="showNewReply=false"></i>
			        <reply-post><textarea class="span12 newreplytxt"></textarea><br /><br /></reply-post>
				  </div>
				  <button class="btn btn-inverse btn-mini btn-send" type="button"><i class="icon-ok"></i>&nbsp;&nbsp;Send</button>
			    </div>
				
				<div class="replies" ng-show="showReplies" ng-init="showReplies=true">
				<div class="row-fluid reply" ng-repeat="reply in post.replies" ng-mouseenter="showToolsReply=true" ng-mouseleave="showToolsReply=false">
				  <!--<ng-switch on="reply.hide">
				    <div ng-switch-when="0">//-->
					<div>
						<div class="span1">
							<div class="vote" style="margin-right: 5px; margin-top: 17px;">
							  <div class="number"><i class="icon-chevron-up"></i><br />[[reply.votes]]<br /><i class="icon-chevron-down"></i></div>
							</div>
						</div>
						<div class="span11 post reply">
							<!--<ng-switch on="reply.goodpost">
							  <div ng-switch-when="1" style="font-size: 18px; position: absolute; left: -10px; top: -10px;"><i class="icon-pushpin"></i></div>
							</ng-switch>//-->
							<div class="row-fluid">
							  <div class="span1" style="width: 6%;">
								<div class="avatar [[reply.user.avatar.cssclass]]" ng-click="showReplyUserDetails=!showReplyUserDetails" ng-init="showReplyUserDetails=false"></div>
							  </div>
							  <div class="span11" style="width: 94%; margin-left: 0px; margin-top: -2px;">
								<div class="reply-tools pull-right">
								  <span style="cursor: pointer; font-size: 14px;" ng-show="showToolsReply"><i class="icon-pencil"></i></span>
								</div>
								<span class="username">[[reply.user.name]]</span> <span class="datetime">(<span class="time"><abbr class="timeago" title="[[reply.pubdate]]" reldate>[[reply.pubdate]]</abbr></span>)</span><div class="text">[[reply.text]]</div>
							  </div>
							</div>
							<ng-switch on="reply.goodpost">
							  <div ng-switch-when="1" class="goodposttext"><i class="icon-ok"></i><i class="icon-certificate"></i> This post has been marked as a good answer by the LVA-team.</div>
							  <div ng-switch-when="2" class="goodposttext"><i class="icon-certificate"></i><i class="icon-question-sign"></i><i class="icon-circle"></i> This post has been marked as a good question by the LVA-team.</div>
							</ng-switch>
							
							<div class="row-fluid" ng-show="showReplyUserDetails">
							  <div class="span12 post-user-details" style="border-bottom: 0; margin-bottom: 0px;">
								<button class="btn btn-mini btn-inverse colleague-button" type="button"><i class="icon-group"></i> become a colleague</button>
								<i class="icon-remove-sign" ng-click="showReplyUserDetails=false"></i>
								<div class="title">Nickname</div>[[reply.user.name]]<br />
								<div class="title">Statement</div>[[reply.user.statement]]<br />
								<div class="title">Contact</div>[[reply.user.email]]<br />
							  </div>
							</div>
						  
						</div>
					</div>
					<!--<div ng-switch-when="1">
						<div class="span1">
						</div>
						<div class="span11 more-replies" ui-jq="tooltip" title="load all replies"><hr /></div>
					</div>
				  </ng-switch>//-->
				</div>
				</div>
				</div>